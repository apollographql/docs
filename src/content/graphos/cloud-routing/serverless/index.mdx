---
title: Serverless cloud router
subtitle: Learn how serverless cloud routing works
description: Learn how serverless cloud routing works
---

Previously, Serverless variants would scale to zero (hibernate) after 2 minutes of inactivity. In Serverless on AWS, this has been replaced with an extended inactivity threshold. Also new in Serverless, variants that have not received traffic for an extended period will automatically be deleted. This process preserves a variant's schema but deletes the underlying cloud router.

<Note>
This doc does not apply to Dedicated cloud routers.
</Note>

### Sleeping

Serverless cloud routers that have not received traffic for 7 days will automatically go to sleep. During this time, your cloud router cannot serve traffic. Sleeping cloud routers will wake up automatically once they receive traffic to the apollographos.net endpoint. While waking, your endpoint will be unable to process incoming requests. It typically takes about 1 minute to wake up.

[todo: screenshot of sleeping soon banner]

### Deleting

If a cloud router has been sleeping for 30 days, it will be automatically deleted. This does not delete your variant from GraphOS Studio, but it does spin down the infrastructure powering your cloud router. Deleting your cloud router deletes any secrets that were stored: these cannot be recovered.

[todo: screenshot of will delete soon banner]

## Router states
| Status                  | Description                                                                                                         |
|-------------------------|---------------------------------------------------------------------------------------------------------------------|
| Running                 | Your graph is operating normally and will not sleep soon.                                                            |
| Creating                | Your cloud router is being created. This process may take up to 5 minutes.                                          |
| Error                   | Your cloud router is running but a deployment recently failed. See Launches for more information.                   |
| Running, will sleep soon| Your cloud router hasn’t received traffic for 6 days and is scheduled to go to sleep soon.                          |
| Sleeping                | Your cloud router hasn’t received traffic for 7 days and is now sleeping.                                           |
| Waking                  | Your cloud router was asleep and recently received traffic. You may experience API downtime for approximately 1 minute (up to 5 minutes). |
| Sleeping, will delete soon | Your cloud router has been asleep for almost 30 days and will be deleted soon.                                       |
| Deleted                 | Your cloud router has been deleted but your studio graph variant remains. You can recreate a cloud router at anytime. |

