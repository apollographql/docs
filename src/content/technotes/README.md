# Apollo Tech Notes

This file is the contributing guide for this section of the docs. It is not exposed on the public site.

## Running Locally

Since all the files for technotes is in the `docs` repo, we can run the simplified local dev mode.
First, follow the instructions in the main README about how to setup Netlify and installing packages, but then you can use the local command to do a fast startup:

```shell
npm run start:local
```

## Creating a new Tech Note

### Create a new file
Create a new file in the `src/content/technotes/` directory. The file should follow the format `TN0001-my-page-name.mdx`

* Use kebab-case format for entire file name, this will also be the url format
* Prefix the file name with `TNXXXX` where `X` is an incremental number from the previous tech notes.
* Use `.mdx`
* Add the following MDX headers to the top of the file: `title`, `id`, `description`, `tags`
  * ```mdx
    ---
    title: My Title of Tech Note
    id: TN0001
    description: Sub-description of the technote that may be used for links and metadata
    tags: [server, client, foo, bar] // Any tags relevant to tech note
    ---

    Starting content of technote...
    ```
    
### Add new tags to sidebar

The sidebar is a set of manaully create links to the `/tags/<my-tag>` page of a given tag. If you create a new tech note tag, you have to manually add a new section and link.

The create of the page is automatic based on the tag name. It autoconverts any tag name to a kabab-case using the [lodash function](https://lodash.com/docs/#kebabCase).
That means a tag called `schema design` is converted to `schema-design` so that it works with urls better, then unconverted when displayed on the page again.

In the `config.json` you should use the following format:

```json
{
  "sidebar": {
    "Home": "/",
    "Tags": {
      "observability": "/tags/observability",
      "schema design": "/tags/schema-design",
      "server": "/tags/server"
    }
  }
}
```

The key on the left is what is seen by users in the UI, so it should use the format of the tag in the tech note.
The value on the right is the kebase-case formated url of the `/tags/` page. Again this page is autogenerated, you just need to provide the link to it.
